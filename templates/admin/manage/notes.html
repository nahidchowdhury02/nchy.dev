<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Manage Notes</title><link rel="stylesheet" href="/static/styles.css" /></head>
<body><header><h1>Manage Notes & Logs</h1></header><main>
{% with messages = get_flashed_messages(with_categories=true) %}{% if messages %}{% for category, message in messages %}<p><strong>{{ category|upper }}</strong>: {{ message }}</p>{% endfor %}{% endif %}{% endwith %}
<nav>
<a href="{{ url_for('admin.manage') }}">Hall</a>
<a href="{{ url_for('admin.books') }}">Books</a>
<a href="{{ url_for('admin.gallery') }}">Gallery</a>
<a href="{{ url_for('admin.notes') }}">Notes</a>
<a href="/notes">Public notes</a>
</nav>
<section><h2>New entry</h2>
<form method="post" enctype="multipart/form-data" action="{{ url_for('admin.notes') }}">
<input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
<p><label>Kind</label><br /><select name="kind"><option value="note">note</option><option value="log">log</option></select></p>
<p><label>Title</label><br /><input type="text" name="title" placeholder="short title" /></p>
<p><label>Body</label><br /><textarea name="body" rows="8" style="width:100%;" placeholder="write thy line..."></textarea></p>
<p><label>Or file (.txt/.md/.log)</label><br /><input type="file" name="upload_file" accept=".txt,.md,.log,text/plain" /></p>
<p><label><input type="checkbox" name="is_published" value="1" checked /> show on /notes</label></p>
<button type="submit">save</button>
</form></section>
<section><h2>Kept entries</h2>
{% for entry in entries %}
<article style="border:1px solid #333; padding:12px; margin-bottom:10px; background:#fff;"><h3>[{{ entry.kind|upper }}] {{ entry.title }}</h3><p>{{ entry.body }}</p><p><small>shown: {{ entry.is_published }} | {{ entry.created_at }}</small></p></article>
{% else %}
<p>none yet.</p>
{% endfor %}
</section>
</main></body></html>
