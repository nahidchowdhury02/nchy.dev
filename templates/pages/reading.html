{% extends "layouts/public.html" %}

{% block title %}Reading List{% endblock %}
{% block header_title %}Reading List{% endblock %}

{% block content %}
  <section class="card">
    <h2>Currently Reading</h2>
    <p>{{ total_books }} in queue. Page {{ page }} of {{ total_pages }}.</p>
  </section>

  <section class="card-grid" aria-label="Reading list">
    {% for book in books %}
      <article class="card">
        <h3>{{ book.title or book.original_title }}</h3>
        <p class="book-meta">{{ (book.authors or [])|join(', ') or 'unknown author' }}</p>
        <p class="book-meta">{{ book.first_publish_year or 'year unknown' }}</p>
      </article>
    {% else %}
      <article class="card"><p>no books yet.</p></article>
    {% endfor %}
  </section>

  {% if total_pages > 1 %}
    <section class="card">
      <div class="inline-actions" aria-label="Reading pagination">
        {% if has_prev %}
          <a class="btn-link" href="{{ url_for('main.reading', page=page-1) }}">previous</a>
        {% endif %}
        <span class="small-note">page {{ page }} / {{ total_pages }}</span>
        {% if has_next %}
          <a class="btn-link" href="{{ url_for('main.reading', page=page+1) }}">next</a>
        {% endif %}
      </div>
    </section>
  {% endif %}

  <div class="inline-actions">
    <a class="btn-link" href="{{ url_for('admin.reading') }}">tend list</a>
  </div>
{% endblock %}
