{% extends "layouts/public.html" %}

{% block title %}Music{% endblock %}
{% block header_title %}Music{% endblock %}

{% block content %}
  <section class="card intro-card music-toolbar-card">
    <div class="music-toolbar-head">
      <p>songs that i like, that i love and that makes life feel like a movie</p>
      <div class="music-sort-icons" aria-label="Sort music list">
        <a
          class="notes-icon-btn {% if selected_sort == 'newest' %}is-active{% endif %}"
          href="{{ url_for('main.music', sort='newest') }}"
          title="Newest first"
          aria-label="Sort newest first"
        >
          <svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true" focusable="false">
            <path d="M12 5v14M7 10l5-5 5 5" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </a>
        <a
          class="notes-icon-btn {% if selected_sort == 'oldest' %}is-active{% endif %}"
          href="{{ url_for('main.music', sort='oldest') }}"
          title="Oldest first"
          aria-label="Sort oldest first"
        >
          <svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true" focusable="false">
            <path d="M12 5v14M7 14l5 5 5-5" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <section class="card-grid" aria-label="Music embeds">
    {% for link in links %}
      <article class="card music-card">
        <h3>{{ link.title }}</h3>
        <div class="music-embed-wrap">
          <iframe
            src="{{ link.embed_url }}"
            title="{{ link.title }}"
            loading="lazy"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
            referrerpolicy="strict-origin-when-cross-origin"
          ></iframe>
        </div>
      </article>
    {% else %}
      <article class="card"><p>No music links yet.</p></article>
    {% endfor %}
  </section>
{% endblock %}
