<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>INCXCNI</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
  <header>
    <h1>QUIET STACK OF N</h1>
  </header>

  <main>
    <div class="notice-banner" role="status" id="notice-banner">
      <span>hi strangers! nothing here works as of yet! this is where i am going to leave whatever Nahid was and is like an open book for people that are interested in just knowing because and just because, also this app works better on laptop i think</span>
      <button class="notice-dismiss" id="notice-dismiss" type="button">ok-ay picasso</button>
    </div>
    <section class="hero-shelves">
      <div class="dev-box">
        <div class="dev-box-header">
          <span class="dev-box-title">The Library</span>
          <span class="dev-box-subtitle">stuff and books we gathered over time. 400+ books and personal reviews</span>
        </div>
        <div class="dev-box-previews" id="dev-previews"></div>
      </div>
      <div class="link-grid">
        <article>
          <h3>Github &amp; Research</h3>
          <p>Work in progress, unfinished ideas, and papers worth keeping.</p>
          <a href="#">view</a>
        </article>
        <article>
          <h3>Gallery</h3>
          <p>Sketches, fragments, and pieces that lasted long enough to be shown.</p>
          <a href="/gallery">view</a>
        </article>
        <article>
          <h3>Music list</h3>
          <p>Sounds for late hours; recordings, mixes, and audio meant to fade into the room.</p>
          <a href="#">listen</a>
        </article>
        <article>
          <h3>Reading List</h3>
          <p>Books I’m moving through slowly, with notes in the margins. might add movies and shows here too</p>
          <a href="#">open</a>
        </article>
        <article>
          <h3>Fun Stuff</h3>
          <p>Experiments that may or may not behave. Some do. Some don’t.</p>
          <a href="#">try</a>
        </article>
        <article>
          <h3>Notes &amp; Logs</h3>
          <p>Thoughts, changes, and quiet reasons for why something became what it is.</p>
          <a href="#">read</a>
        </article>
        <article>
          <h3>eh</h3>
          <p>If you need to reach out for work, exchange, or shared curiosity.</p>
          <a href="mailto:keeper@nchy.dev">email</a>
        </article>
      </div>
    </section>

  </main>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const dismiss = document.getElementById("notice-dismiss");
      const banner = document.getElementById("notice-banner");
      if (dismiss && banner) {
        dismiss.addEventListener("click", function () {
          banner.remove();
        });
      }

      const previews = document.getElementById("dev-previews");
      const fallbackBooks = {{ preview_books|tojson }};

      function renderBooks(books) {
        previews.innerHTML = "";
        books.forEach((book) => {
          const title = book.title || book.original_title || "Untitled";
          const cover = book.cover_url || "/static/images/gallery-sketches.png";
          const preview = document.createElement("div");
          preview.className = "preview-card";
          preview.innerHTML = `<img src="${cover}" alt="${title}">`;
          previews.appendChild(preview);
        });
      }

      fetch("/api/books?limit=8")
        .then(response => response.json())
        .then(payload => {
          renderBooks(payload.items || []);
        })
        .catch(() => {
          renderBooks(fallbackBooks || []);
        });
    });
  </script>

  <footer>
    Kept here. Nothing rushed.
  </footer>
</body>

</html>
