{% extends "layouts/public.html" %}

{% block title %}Library{% endblock %}
{% block header_title %}PUBLIC ARCHIVE OF N{% endblock %}

{% block content %}
<div class="notice-banner card" role="status" id="notice-banner">
  <span>{{ notice_banner_text }}</span>
  <button class="notice-dismiss" id="notice-dismiss" type="button">Okay</button>
</div>
<section>
  <h2 class="section-title">Explore</h2>
  <div class="card-grid link-grid">
    <article class="card">
      <h3>GitHub and Research</h3>
      <p class="link-copy">Projects, experiments, and research notes.</p>
      <a class="btn-link" href="{{ url_for('main.github_research') }}">VIEW</a>
    </article>
    <article class="card">
      <h3>Gallery</h3>
      <p class="link-copy">Sketches, paintings, and archived moments.</p>
      <a class="btn-link" href="{{ url_for('main.gallery') }}">SEE</a>
    </article>
    <article class="card">
      <h3>LIBRARY</h3>
      <p class="link-copy">Books with context and notes.</p>
      <a class="btn-link" href="{{ url_for('main.books') }}">BROWSE</a>
    </article>
    <article class="card">
      <h3>Music List</h3>
      <p class="link-copy">A list of tracks that i love!</p>
      <a class="btn-link" href="{{ url_for('main.music') }}">LISTEN</a>
    </article>
    <article class="card">
      <h3>Reading List</h3>
      <p class="link-copy">Current reading progress and notes.</p>
      <a class="btn-link" href="{{ url_for('main.reading') }}">OPEN</a>
    </article>
    <article class="card">
      <h3>Fun Stuff</h3>
      <p class="link-copy">side projects including coding, CAD, and 3d prototyping.</p>
      <a class="btn-link" href="{{ url_for('main.fun') }}">EXPLORE</a>
    </article>
    <article class="card">
      <h3>JOURNAL</h3>
      <p class="link-copy">Notes, logs, and development updates.</p>
      <a class="btn-link" href="{{ url_for('main.notes') }}">READ</a>
    </article>
    <article class="card">
      <h3>Certification</h3>
      <p class="link-copy">Achievements and credentials.</p>
      <a class="btn-link" href="{{ url_for('main.certification') }}">VIEW</a>
    </article>
    <article class="card">
      <h3>Contact</h3>
      <p class="link-copy">Get in touch for questions or collaboration.</p>
      <a class="btn-link" href="{{ url_for('main.contact') }}">EMAIL</a>
    </article>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const headerCard = document.querySelector(".app-header");
    const headerTitle = document.querySelector(".app-header h1");
    let hasTyped = false;

    const startHeaderTypewriter = function () {
      if (!headerTitle || hasTyped) {
        return;
      }
      hasTyped = true;
      if (headerCard) {
        headerCard.classList.remove("home-header-lamp");
      }
      headerTitle.classList.add("home-title-typing");
      headerTitle.classList.remove("home-title-lamp");
      const fullText = headerTitle.dataset.fullText || headerTitle.textContent || "";
      headerTitle.dataset.fullText = fullText;
      headerTitle.textContent = "";
      let i = 0;
      const typeTick = function () {
        headerTitle.textContent = fullText.slice(0, i);
        i += 1;
        if (i <= fullText.length) {
          window.setTimeout(typeTick, 145);
        } else {
          window.setTimeout(function () {
            headerTitle.classList.remove("home-title-typing");
            headerTitle.classList.add("home-title-lamp");
            if (headerCard) {
              headerCard.classList.add("home-header-lamp");
            }
          }, 650);
        }
      };
      typeTick();
    };

    const dismiss = document.getElementById("notice-dismiss");
    const banner = document.getElementById("notice-banner");
    if (dismiss && banner) {
      if (headerTitle) {
        headerTitle.dataset.fullText = headerTitle.textContent || "";
        headerTitle.textContent = "A COLLECTION OF THOUGHTS, PROJECTS, AND RESOURCES.";
      }
      dismiss.addEventListener("click", function () {
        banner.remove();
        startHeaderTypewriter();
      });
    } else {
      startHeaderTypewriter();
    }
  });
</script>
{% endblock %}
